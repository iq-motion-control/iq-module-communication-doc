

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>UART Messaging &mdash; Python API 0.11.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Arduino API" href="langs/arduino.html" />
    <link rel="prev" title="Indices and tables" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/IQClear.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">API Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">UART Messaging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#message-packetization">Message Packetization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-packets">General Packets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standard-packets">Standard Packets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="langs/arduino.html">Arduino API</a></li>
<li class="toctree-l1"><a class="reference internal" href="langs/cpp.html">C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="langs/matlab.html">Matlab API</a></li>
<li class="toctree-l1"><a class="reference internal" href="langs/python.html">Python API</a></li>
</ul>
<p class="caption"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules/vertiq_2306_2200.html">Vertiq 2306 2200KV | Speed Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/vertiq_2306_220.html">Vertiq 2306 220KV | Position Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/vertiq_8108_150.html">Vertiq 8108 150KV | Speed Module</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Python API</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>UART Messaging</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="uart-messaging">
<h1>UART Messaging<a class="headerlink" href="#uart-messaging" title="Permalink to this headline">¶</a></h1>
<p>IQ uses a fully featured, serial based protocol for communicating with motor controllers. This communication
protocol is broken into classes of related functionality. As such, IQ supplies libraries for communicating with
the motor controllers in various object-oriented languages.</p>
<p><strong>The IQ-Motion API currently supports the following languages:</strong></p>
<ul class="simple">
<li><p>Arduino</p></li>
<li><p>C++</p></li>
<li><p>Matlab</p></li>
<li><p>Python</p></li>
</ul>
<div class="section" id="message-packetization">
<h2>Message Packetization<a class="headerlink" href="#message-packetization" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-packets">
<h3>General Packets<a class="headerlink" href="#general-packets" title="Permalink to this headline">¶</a></h3>
<p>Packets are structured such that a valid packet is identifiable even when surrounded by random bytes. The
start byte (dec 85, hex 0x55, bin 0b01010101) indicates the start of a new packet. This particular start byte
is simple to identify using an oscilloscope by its alternating 01 pattern. The ’length’ byte indicates length of
the ’payload’ segment, which in turn points to the location of the two CRC bytes. The ’type’ byte indicates
the source and destination client for this packet. ’type’ is required and comes immediately before ’payload’.
The ’payload’ segment is a variable length section, little-endian, with a practical limit of 59 bytes due to
the common 64 byte buffer size for many serial protocols. Finally, a little-endian CRC-16-CCITT cyclic
redundancy check on ’length’+’type’+’payload’ is appended. See Table 1 a visual representation.</p>
</div>
<div class="section" id="standard-packets">
<h3>Standard Packets<a class="headerlink" href="#standard-packets" title="Permalink to this headline">¶</a></h3>
<p>A common use for communication is to get values, set values, save values, and reply to a get request. The
General Packet is used to make a Standard Packet capable of performing these four functions. The ’payload’
segment of the General Packet is broken into three new segments: subType, obj/access, and ’data’. The
’subType’ byte refers to the specific value within the ’type’ that is being get/set/saved. The ’obj’ and ’access’
are packed into a single byte, where ’obj’, using the high 6 bits, refers to the Module ID (settable in the
System Control class) and the ’access’, the lowest 2 bits, indicate the message intention. ’access’ can be one
of four values: ”get” = 0, ”set” = 1, ”save” = 2, ”reply” = 3. ”get” access requests a ”reply” of ’subType’.
”set” access places –data– into the ’subType’. ”save” access saves the ’subType’ value in flash. ”reply” is
the response from a ”get”, usually with a value loaded into –data–.</p>
<p><strong>Table currently Missing</strong>
Table 1: Message Packetization</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 8%" />
<col style="width: 11%" />
<col style="width: 8%" />
<col style="width: 15%" />
<col style="width: 16%" />
<col style="width: 11%" />
<col style="width: 8%" />
<col style="width: 8%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>General</p></td>
<td><p>0x55</p></td>
<td><p>Length</p></td>
<td><p>Type</p></td>
<td colspan="3"><p class="centered">
<strong>-payload-</strong></p></td>
<td><p>crcL</p></td>
<td><p>crcH</p></td>
</tr>
<tr class="row-even"><td><p>Standard</p></td>
<td><p>0x55</p></td>
<td><p>Length</p></td>
<td><p>Type</p></td>
<td><p>subType</p></td>
<td><p>obj/access</p></td>
<td><p>-data-</p></td>
<td><p>crcL</p></td>
<td><p>crcH</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="langs/arduino.html" class="btn btn-neutral float-right" title="Arduino API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Indices and tables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, IQ Motion Control.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>